# android 三种常用的加密方式

## 一、MD5

特点：

1.压缩性：任意长度的数据，算出的MD5值长度都是固定的；

2.容易计算：从原数据计算出MD5值很容易；

3.抗修改性：对原数据进行任何改动，哪怕只修改1个字节，所得到的MD5值都有很大的区别；

4.强抗碰撞：已知原数据和其MD5值，想找到一个具有相同MD5值的数据（及伪造数据）是非常困难的；

5.不可逆：MD5理论上是不可逆的（但是现在已经可以暴力破解了）。

使用场景：

1.验证密码：只要算法不变，就能和服务器上的MD5匹配；

2.文件完整性的校验：当下载一个文件时，服务器返回的信息包括这个文件的md5,在本地下载完毕时进行md5加密，将两个md5值进行比较，如果一致则说明文件完整没有丢包现象。



## 二、RSA非对称加密

#### 1.1 RSA产生公私钥对

具体实例讲解如何生成密钥对

- 1.随机选择两个不相等的质数p和q。
   alice选择了61和53。（实际应用中，这两个质数越大，就越难破解。）
- 2.计算p和q的乘积n。
   n = 61×53 = 3233
   n的长度就是密钥长度。3233写成二进制是110010100001，一共有12位，所以这个密钥就是12位。实际应用中，RSA密钥一般是1024位，重要场合则为2048位。
- 3.计算n的欧拉函数φ(n)。称作L
   根据公式φ(n) = (p-1)(q-1)
   alice算出φ(3233)等于60×52，即3120。
- 4.随机选择一个整数e，也就是公钥当中用来加密的那个数字
   条件是1< e < φ(n)，且e与φ(n) 互质。
   alice就在1到3120之间，随机选择了17。（实际应用中，常常选择65537。）
- 5.计算e对于φ(n)的模反元素d。也就是密钥当中用来解密的那个数字
   所谓"模反元素"就是指有一个整数d，可以使得ed被φ(n)除的余数为1。ed ≡ 1 (mod φ(n))
   alice找到了2753，即17*2753 mode 3120 = 1
- 6.将n和e封装成公钥，n和d封装成私钥。
   在alice的例子中，n=3233，e=17，d=2753，所以公钥就是 (3233,17)，私钥就是（3233, 2753）。

#### 1.2 RSA加密

首先对明文进行比特串分组，使得每个分组对应的十进制数小于n，然后依次对每个分组m做一次加密，所有分组的密文构成的序列就是原始消息的加密结果，即m满足0<=m<n，则加密算法为：
 c≡ m^e mod n; c为密文，且0<=c<n。

#### 1.3 RSA解密

对于密文0<=c<n，解密算法为：
 m≡ c^d mod n;

#### 1.4 RSA签名验证

RSA密码体制既可以用于加密又可以用于数字签名。下面介绍RSA数字签名的功能。
 已知公钥（e，n），私钥d

- 1.对于消息m签名为：sign ≡ m ^d mod n
- 2.验证：对于消息签名对（m，sign），如果m ≡ sign ^e mod n，则sign是m的有效签名

### 2.RSA公开密钥密码体制

所谓的公开密钥密码体制就是使用不同的加密密钥与解密密钥，是一种“由已知加密密钥推导出解密密钥在计算上是不可行的”密码体制。

在公开密钥密码体制中，加密密钥（即公开密钥）PK是公开信息，而解密密钥（即秘密密钥）SK是需要保密的。加密算法E和解密算法D也都是公开的。虽然解密密钥SK是由公开密钥PK决定的，但却不能根据PK计算出SK。

根据密钥的使用方法，可以将密码分为对称密码和公钥密码

对称密码：加密和解密使用同一种密钥的方式

公钥密码：加密和解密使用不同的密码的方式，因此公钥密码通常也称为非对称密码。


链接：https://www.jianshu.com/p/ff2b538a77e2



## 三、AES对称加密

5种加密模式：

1. 电码本模式 Electronic Codebook Book (ECB)
2. 密码分组链接模式 Cipher Block Chaining (CBC)
3. 计算器模式Counter (CTR)
4. 密码反馈模式（Cipher FeedBack (CFB)
5. 输出反馈模式Output FeedBack (OFB)

参考：https://www.jianshu.com/p/582d3a47729a